<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
<script type="application/javascript">
    function draw() {
        var canvas=document.getElementById('canvas');
        var ctx=canvas.getContext('2d');
        var lineG1=ctx.createLinearGradient(0,0,0,500);
        var lineG2=ctx.createLinearGradient(200,200,200,300);
        lineG1.addColorStop(0, '#00ABEB');
        lineG1.addColorStop(0.5, '#fff');
        lineG1.addColorStop(0.5, 'blue');
        lineG1.addColorStop(1, '#fff');
        lineG2.addColorStop(0.5,'#000');
        lineG2.addColorStop(1,'rgba(0,0,0,0)');
        ctx.fillStyle=lineG1;
        ctx.strokeStyle=lineG2;
        ctx.fillRect(0,0,500,500);
        ctx.strokeRect(200,200,100,100);
    }
</script>
</head>
<body onload="draw()">
<canvas id="canvas" width="500" height="500"></canvas>
<input type="button" value="button" onclick="getImage()">
<video id=”video” autoplay=”"></video>
</body>
<script>
    function getImage() {
        var video_element=document.getElementById('video');
        if(navigator.getUserMedia){ // opera应使用opera.getUserMedianow
            navigator.getUserMedia('video',success,error); //success是回调函数,当然你也可以直接在此写一个匿名函数
        }
        function success(stream){
            video_element.src=stream;
        }
    }
</script>
</html>
